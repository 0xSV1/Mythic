{% extends "base.html" %}

{% block body %}
<h2>Database and File Management</h2>
Only the admin of the operation can clear out the database.
As an artifact of how tracking and information is stored in the database, removing a payload or callback has a lot of repercussions elsewhere.
<div style="resize: vertical; overflow:visible" class="panel panel-primary" id="database_table">
    <div class="panel-heading">Database Information</div>
        <table class="table table-striped table-hover table-condensed" >
            <tr>
                <td></td>
                <td><b>Clear Management Item for the Current Operation</b></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-danger btn-md" onclick="clear_payloads()">Clear</button></td>
                <td><h4>Payloads, Callbacks, Tasks, Responses, Files, Screencaptures, Keylogs</h4></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-danger btn-md" onclick="clear_callbacks()">Clear</button></td>
                <td><h4>Callbacks, Tasks, Responses, Files, Screencaptures, Keylogs</h4></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-danger btn-md" onclick="clear_screencaptures()">Clear</button></td>
                <td><h4>Screencaptures</h4></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-danger btn-md" onclick="clear_downloads()">Clear</button></td>
                <td><h4>Downloads, Screencaptures</h4></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-danger btn-md" onclick="clear_uploads()">Clear</button></td>
                <td><h4>Uploads</h4></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-danger btn-md" onclick="clear_keylogs()">Clear</button></td>
                <td><h4>Keylogs</h4></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-danger btn-md" onclick="clear_credentials()">Clear</button></td>
                <td><h4>Credentials</h4></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-danger btn-md" onclick="clear_tasks()">Clear</button></td>
                <td><h4>Tasks, Responses</h4></td>
            </tr>
            <tr>
                <td><button type="button" class="btn btn-danger btn-md" onclick="clear_responses()">Clear</button></td>
                <td><h4>Responses</h4></td>
            </tr>
        </table>
</div>
<!-- THIS IS OUR MODAL FOR CLEARING -->
<div class="modal fade bs-example-modal-sm" id="clearModal" role="dialog">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">Ã—</button>
                <h3>Are you sure?</h3>
            </div>
              <div class="modal-body">
                <p>[[description]]</p>
              </div>
              <div class="modal-footer">
                <button class="btn" data-dismiss="modal" aria-hidden="true">Cancel</button>
                <button class="btn btn-danger" data-dismiss="modal" id="clearSubmit">Yes</button>
              </div>
        </div>
    </div>
</div>
<!-- END MODAL FOR CLEARING -->

{% endblock %}

{% block scripts %}
{% include "database_management.js" %}
{% endblock %}